**********************************
SofaMyRoom - VAST
**********************************

.. contents:: Table of Contents

.. _here: http://thevastproject.inria.fr/dataset/

Here is reported the organization of the VAST structure. The VAST project is available `here`_.

.. IMPORTANT::
  In this version, the VAST dataset can handle more than six frequency bands and, moreover, the HRTF dataset is not restricted to the one recorded at MIT on the KEMAR mannequin.

==================================
VAST structure
==================================

The VAST dataset is stored with the multilevel MATLAB ``struct``. In order to initialize and populate a VAST dataset check the script ``VAST/DemoVAST.m``.

.. WARNING::
  The size of the arrays are reported in the legend below

+-------------------+-------------------+-----------------------------------------------------------------------------+
| Name              | Type              | Description                                                                 |
+===================+===================+=============================================================================+
| GlobalParams      | ``struct``        | Simulation Parameters                                                       |
+-------------------+-------------------+-----------------------------------------------------------------------------+
| SamplingFrequency | ``double``        | Sampling Frequency of the BRIRs                                             |
+-------------------+-------------------+-----------------------------------------------------------------------------+
| FreqBin           | ``[1, F] double`` | Frequency bands used to compute the BRIRs - refer to room.surface.frequency |
+-------------------+-------------------+-----------------------------------------------------------------------------+
| RIRLengthTime     | ``double``        | Length in seconds of the BRIRs                                              |
+-------------------+-------------------+-----------------------------------------------------------------------------+
| **RIR**           | ``struct``        | BRIR container                                                              |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Left            | ``[L, N] single`` | RIR for the left ear                                                        |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Right           | ``[L, N] single`` | RIR for the right ear                                                       |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| **Room**          | ``struct``        | Acoustic parameters                                                         |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Size            | ``[3, N] single`` | (width, depth, height) dimensions in meters                                 |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | FreqRT60        | ``[F, N] single`` | Reverberation Time is seconds for each frequency band                       |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | GlobalRT60      | ``[1, N] single`` | Overall Reverberation Time is seconds                                       |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Diffusion       | ``[F, N] single`` | Diffusion coefficients for each frequency band                              |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | **Absorption**  | ``struct``        | Absorption coefficients for each frequency band                             |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | NorthWall     | ``[F, N] single`` |                                                                             |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | WestWall      | ``[F, N] single`` |                                                                             |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | SouthWall     | ``[F, N] single`` |                                                                             |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | EastWall      | ``[F, N] single`` |                                                                             |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | Ceiling       | ``[F, N] single`` |                                                                             |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | Floor         | ``[F, N] single`` |                                                                             |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| **Receiver**      | ``struct``        | Receivers characterization                                                  |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Position        | ``[3, N] single`` | (x,y,z) in meters for each receiver                                         |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Orientation     | ``[1, N] single`` | tilt in degree                                                              |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | **HRTF**        | ``struct``        | HRTF dataset                                                                |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | Fs            | ``double``        | Sampling Frequency in hertz                                                 |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | Left          | ``[D, K] double`` | Impulse responses of the left ear                                           |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| | | Right         | ``[D, K] double`` | as above for the right ear                                                  |
+-+-+---------------+-------------------+-----------------------------------------------------------------------------+
| **Source**        | ``struct``        | Sources characterization                                                    |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Azimuth         | ``[1, N] single`` | Azimuth angle in respect to receiver. Values in degree.                     |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Elevation       | ``[1, N] single`` | Elevation angle in respect to receiver. Values in degree.                   |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | Distance        | ``[1, N] single`` | Distance in respect to receiver. Values in meters                           |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+
| | AbsolutePos     | ``[3, N] single`` | Cartesian coordinates in respect to the room. Values in meters.             |
+-+-----------------+-------------------+-----------------------------------------------------------------------------+

-------------------
 Legend
-------------------

+-------+--------------------------------+
| Name  | Description                    |
+=======+================================+
| F     | Number of frequency bands      |
+-------+--------------------------------+
| N     | RIRs available in VAST         |
+-------+--------------------------------+
| L     | Length in samples of the RIRs  |
+-------+--------------------------------+
| D     | Length in samples of the HRIRs |
+-------+--------------------------------+
| K     | HRIRs available                |
+-------+--------------------------------+
